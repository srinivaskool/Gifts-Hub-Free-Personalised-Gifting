{"version":3,"sources":["OpenGreetingCard/OpenGreetingCard.js","ScheduledLivePages/ScheduledLiveOpenGreetCard.js"],"names":["OpenGreetingCard","fbimg","message","occassion","totext","fromtext","location","useState","openCard","setOpenCard","timer","setTimeout","useEffect","className","class","id","style","overflow","backgroundImage","opacity","backgroundSize","backgroundRepeat","boxShadow","ScheduledLiveOpenGreetCard","match","dispatch","useDispatch","setfbimg","setmessage","setoccassion","settotext","setfromtext","database","firebase","firestore","Livelinks","setLivelinks","loading","setloading","dataurl","today","settoday","a","collection","doc","params","slug","get","snapshot","data","array_data","map","item","index","type","payload","day","url","getDoc","console","log","ref","once","then","img","val","msg","occn","to_nam","from_nam","calculateTimeLeft","Date","getFullYear","difference","Bday_date","length","timeLeft","days","Math","floor","hours","minutes","seconds","setTimeLeft","timerComponents","Object","keys","forEach","interval","push","display","flex","color","height","width","Bday"],"mappings":"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","file":"static/js/76.59df4591.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./OpenGreetingCard.css\";\r\nimport { BrowserView, MobileView, TabletView } from \"react-device-detect\";\r\nexport default function OpenGreetingCard({\r\n  fbimg,\r\n  message,\r\n  occassion,\r\n  totext,\r\n  fromtext,\r\n  location,\r\n}) {\r\n  const [openCard, setOpenCard] = useState(\"gc_carrd \");\r\n\r\n  const timer = () => {\r\n    setTimeout(() => {\r\n      setOpenCard(\"gc_carrd open\");\r\n      setTimeout(() => {\r\n        setOpenCard(\"gc_carrd\");\r\n        timer();\r\n      }, 15000);\r\n    }, 3000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    timer();\r\n  });\r\n\r\n  return (\r\n    <div className=\"opengreetingcardmaindiv\">\r\n      <div className=\"gc_mainCard\">\r\n        <section class=\"gc_containerr\">\r\n          <div className={openCard} id=\"theCard\">\r\n            <div class=\"gc_page gc_back\">\r\n              <div class=\"side gc_back\">Jobbies</div>\r\n              <div class=\"side gc_front\">\r\n                <div class=\"gc_hearts\">\r\n                  <div class=\"gc_heart\"></div>\r\n                  <div class=\"gc_heart\"></div>\r\n                  <div class=\"gc_heart\"></div>\r\n                  <div class=\"gc_heart\"></div>\r\n                  <div class=\"gc_heart\"></div>\r\n                  <div class=\"gc_heart\"></div>\r\n                  <div class=\"gc_heart\"></div>\r\n                  <div class=\"gc_heart\"></div>\r\n                  <div class=\"gc_heart\"></div>\r\n                  <div class=\"gc_heart\"></div>\r\n                  <div class=\"gc_heart\"></div>\r\n                  <div class=\"gc_heart\"></div>\r\n                  <div class=\"gc_heart\"></div>\r\n                  <div class=\"gc_heart\"></div>\r\n                </div>\r\n                <div style={{ overflow: \"hidden\" }}>\r\n                  <p>{message}</p>\r\n                  <p> {occassion}</p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"gc_page gc_front\">\r\n              <div\r\n                style={{\r\n                  backgroundImage: \"url(\" + fbimg + \")\",\r\n                  opacity: \"0.9\",\r\n                  backgroundSize: \"cover\",\r\n                  backgroundRepeat: \"no-repeat\",\r\n                  overflow: \"hidden\",\r\n                  boxShadow: \"0px 0px 0px 15px #dfccaf inset\",\r\n                }}\r\n                class=\"side gc_back red\"\r\n              >\r\n                <div class=\"gc_hearts\">\r\n                  {\" \"}\r\n                  <BrowserView>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>{\" \"}\r\n                  </BrowserView>\r\n                  <TabletView>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>\r\n                    <div class=\"gc_heart\"></div>{\" \"}\r\n                  </TabletView>\r\n                </div>{\" \"}\r\n              </div>\r\n              <div style={{ overflow: \"hidden\" }} class=\"side gc_front\">\r\n                <div>\r\n                  <p>\r\n                    To <br /> <span class=\"red\"> {totext}</span>\r\n                  </p>\r\n                  <p>\r\n                    From <br /> <span class=\"blue\">{fromtext}</span>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport OpenGreetingCard from \"../OpenGreetingCard/OpenGreetingCard\";\r\nimport firebase from \"../firebase\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport CircleTimer from \"./CircleTimer\";\r\nimport ScheduledLiveNavBar from \"../NavBars/ScheduledLiveNavBar\";\r\nfunction ScheduledLiveOpenGreetCard({ match }) {\r\n  let dispatch = useDispatch();\r\n  const [fbimg, setfbimg] = useState(\"\");\r\n  const [message, setmessage] = useState(\"\");\r\n  const [occassion, setoccassion] = useState(\"\");\r\n  const [totext, settotext] = useState(\"\");\r\n  const [fromtext, setfromtext] = useState(\"\");\r\n  const database = firebase.firestore();\r\n  const [Livelinks, setLivelinks] = useState(\"\");\r\n  const [loading, setloading] = useState(false);\r\n  const [dataurl, setdataurl] = useState([]);\r\n  const [today, settoday] = useState();\r\n  async function getDoc() {\r\n    const snapshot = await database\r\n      .collection(\"Livelinks\")\r\n      .doc(match.params.slug)\r\n      .get();\r\n    const data = snapshot.data();\r\n    setLivelinks(data);\r\n    data.array_data.map((item, index) => {\r\n      if (item.id == \"greetingcard\") {\r\n        settoday(index);\r\n        dispatch({\r\n          type: \"ACTIVE_STEP\",\r\n          payload: { day: index + 1 },\r\n        });\r\n      }\r\n      dataurl[index] = item.url;\r\n    });\r\n  }\r\n  useEffect(() => {\r\n    getDoc();\r\n    console.log(Livelinks, \"liveData\");\r\n    console.log(match.params.slug, \"slug\", match.params.id, \"id\");\r\n  }, []);\r\n  useEffect(() => {\r\n    setloading(true);\r\n    const todoRef = firebase\r\n      .database()\r\n      .ref(\"/OpenGreetingCard/\" + match.params.id)\r\n      .once(\"value\")\r\n      .then((snapshot) => {\r\n        var img = snapshot.val().url;\r\n        setfbimg(img);\r\n        var msg = snapshot.val().message;\r\n        setmessage(msg);\r\n        var occn = snapshot.val().occassion;\r\n        setoccassion(occn);\r\n        var to_nam = snapshot.val().totext;\r\n        settotext(to_nam);\r\n        var from_nam = snapshot.val().fromtext;\r\n        setfromtext(from_nam);\r\n      });\r\n    setloading(false);\r\n  }, []);\r\n  const calculateTimeLeft = () => {\r\n    let year = new Date().getFullYear();\r\n    var difference =\r\n      +new Date(Livelinks.Bday_date) -\r\n      +new Date() -\r\n      19800000 -\r\n      86400000 * (dataurl.length - today);\r\n    console.log(difference, \"difference\");\r\n    let timeLeft = {};\r\n\r\n    if (difference > 0) {\r\n      timeLeft = {\r\n        days: Math.floor(difference / (1000 * 60 * 60 * 24)),\r\n        hours: Math.floor((difference / (1000 * 60 * 60)) % 24),\r\n        minutes: Math.floor((difference / 1000 / 60) % 60),\r\n        seconds: Math.floor((difference / 1000) % 60),\r\n      };\r\n    }\r\n\r\n    return timeLeft;\r\n  };\r\n\r\n  const [timeLeft, setTimeLeft] = useState(calculateTimeLeft());\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      setTimeLeft(calculateTimeLeft());\r\n    }, 1000);\r\n  });\r\n  const timerComponents = [];\r\n\r\n  Object.keys(timeLeft).forEach((interval) => {\r\n    if (!timeLeft[interval]) {\r\n      return;\r\n    }\r\n\r\n    timerComponents.push(\r\n      <span>\r\n        {timeLeft[interval]} {interval}{\" \"}\r\n      </span>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div>\r\n      <ScheduledLiveNavBar slug={match.params.slug} />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <div style={{ display: \"flex\" }}>\r\n        <div style={{ flex: \"1\" }}>\r\n          {loading ? (\r\n            <Loader\r\n              type=\"BallTriangle\"\r\n              color=\"#00BFFF\"\r\n              height={100}\r\n              width={100}\r\n            />\r\n          ) : (\r\n            <div>\r\n              {new Date(Livelinks.Bday_date) -\r\n                +new Date() -\r\n                19800000 -\r\n                86400000 * (dataurl.length - today - 1) >\r\n              0 ? (\r\n                <div>\r\n                  <h5 className=\"example\"> This Gift opens in </h5>\r\n                  <CircleTimer\r\n                    Bday={\r\n                      +new Date(Livelinks.Bday_date) -\r\n                      +new Date() -\r\n                      19800000 -\r\n                      86400000 * (dataurl.length - today - 1)\r\n                    }\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div>\r\n                  <center>\r\n                    {\" \"}\r\n                    {dataurl.length - today - 1 == 0 ? (\r\n                      <h1 className=\"example\">The Big day is here !!!</h1>\r\n                    ) : dataurl.length - today - 1 == 1 ? (\r\n                      <h1 className=\"example\">\r\n                        {dataurl.length - today - 1} day to go !!!\r\n                      </h1>\r\n                    ) : (\r\n                      <h1 className=\"example\">\r\n                        {dataurl.length - today - 1} days to go !!!\r\n                      </h1>\r\n                    )}\r\n                  </center>\r\n                  <OpenGreetingCard\r\n                    fbimg={fbimg}\r\n                    message={message}\r\n                    occassion={occassion}\r\n                    totext={totext}\r\n                    fromtext={fromtext}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ScheduledLiveOpenGreetCard;\r\n"],"sourceRoot":""}